{"version":3,"sources":["axios.js","contexts/actionTypes.js","contexts/authReducer.js","contexts/AuthContext.js","contexts/storyReducer.js","contexts/StoryContext.js","components/Header.js","components/Welcome.js","pages/Homepage.js","components/Title.js","pages/CreateStory.js","pages/Profile.js","pages/EditStory.js","pages/Login.js","pages/Signup.js","pages/Details.js","components/Story.js","components/Spinner.js","components/Stories.js","components/UsersList.js","components/Dashboard.js","pages/Notfound.js","helpers/AuthRoute.js","App.js","index.js","logo.svg"],"names":["instance","axios","create","baseURL","process","headers","currentUser","Cookie","getJSON","token","Authorization","AuthHeader","interceptors","response","use","Promise","resolve","reject","error","status","remove","window","location","actionTypes","STORY_UNDO_DELETE_REQUEST","STORY_UNDO_DELETE_SUCCESS","STORY_UNDO_DELETE_FAIL","STORY_LIST_REQUEST","STORY_LIST_SUCCESS","STORY_LIST_FAIL","STORY_PRIVATE_REQUEST","STORY_PRIVATE_SUCCESS","STORY_PRIVATE_FAIL","STORY_DETAILS_REQUEST","STORY_DETAILS_SUCCESS","STORY_DETAILS_FAIL","STORY_COMMENT_REQUEST","STORY_COMMENT_SUCCESS","STORY_COMMENT_FAIL","STORY_LIKE_REQUEST","STORY_LIKE_SUCCESS","STORY_LIKE_FAIL","STORY_UNLIKE_REQUEST","STORY_UNLIKE_SUCCESS","STORY_UNLIKE_FAIL","STORY_ADD_REQUEST","STORY_ADD_SUCCESS","STORY_ADD_FAIL","STORY_UPDATE_REQUEST","STORY_UPDATE_SUCCESS","STORY_UPDATE_FAIL","STORY_DELETE_REQUEST","STORY_DELETE_SUCCESS","STORY_DELETE_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_PROFILE_DELETE_REQUEST","USER_PROFILE_DELETE_SUCCESS","USER_PROFILE_DELETE_FAIL","USER_PROFILE_REQUEST","USER_PROFILE_SUCCESS","USER_PROFILE_FAIL","USER_LOGOUT","USERS_LIST_REQUEST","USERS_LIST_SUCCESS","USERS_LIST_FAIL","initialState","user","loading","users","profile","message","AuthReducer","state","action","console","log","type","payload","isLoggedIn","AuthContext","createContext","AuthContextProvider","props","useReducer","dispatch","loginDetails","a","post","data","set","JSON","stringify","newUser","id","get","delete","Provider","value","msg","loginUser","logoutUser","register","getUser","deleteUser","children","Consumer","stories","history","story","userStories","storyReducer","map","filter","_id","StoryContext","StoryProvider","React","useContext","userId","updstory","put","storyId","text","useEffect","getPublicStories","useState","query","setQuery","newStories","title","toLowerCase","includes","myStories","createStory","removeStory","updateStory","getStory","getPrivateStories","likeStory","unlikeStory","makeComment","searchStory","currentTarget","NavbarStories","document","getElementById","guestLinks","Nav","Item","Link","href","className","authLinks","username","Navbar","expand","Brand","src","logo","alt","Toggle","aria-controls","Collapse","Form","inline","Button","onClick","variant","Control","onChange","placeholder","Welcome","Homepage","Title","name","CreateStory","useHistory","setEr","content","setStory","show","setShow","handleClose","e","preventDefault","newStory","Swal","fire","position","icon","showConfirmButton","timer","reload","handleChange","target","Fragment","Modal","onHide","animation","Header","closeButton","Body","Group","controlId","Label","as","autoFocus","disabled","hidden","bssize","required","max","Footer","validcontent","length","validtitle","validForm","Profile","Container","Row","Col","image","email","date","substring","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","key","to","createdAt","height","EditStory","params","useParams","setError","currentStory","setCurrentStory","currentId","event","updatedStory","push","EditContainer","styled","div","Login","setEmail","password","setPassword","handleSubmit","LoginContainer","onSubmit","err","setErr","setNewUser","setImage","url","setUrl","collectFields","types","imageUpload","FormData","seletected","append","fetch","method","body","res","json","catch","newUserData","SignupContainer","files","Story","setValue","match","likes","comments","comment","style","fontWeight","Card","width","Subtitle","Text","Spinner","role","Stories","UsersList","Dashboard","NotFound","pathname","AuthRoute","App","exact","path","component","Signup","StoryContent","Editing","Notfound","ReactDOM","render","module","exports"],"mappings":"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","file":"static/js/main.e98f4104.chunk.js","sourcesContent":["import axios from \"axios\";\nimport Cookie from \"js-cookie\";\n\n// get token from user\nfunction AuthHeader() {\n  const currentUser = Cookie.getJSON(\"user\");\n\n  if (currentUser && currentUser.token) {\n    return { Authorization: `Bearer ${currentUser.token}` };\n  } else {\n    return {};\n  }\n}\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_BACKEN_URL,\n  headers: AuthHeader(),\n  //Accept: \"Application/json\",\n  //\"Content-Type\": \"Application/json\",\n});\n\n// intercepting invalid token\ninstance.interceptors.response.use(\n  (response) =>\n    new Promise((resolve, reject) => {\n      resolve(response);\n    }),\n  (error) => {\n    if (!error.response) {\n      return new Promise((resolve, reject) => {\n        reject(error);\n      });\n    }\n    if (error.response.status === 403) {\n      Cookie.remove(\"user\");\n      window.location = \"/login\";\n    } else {\n      return new Promise((resolve, reject) => {\n        reject(error);\n      });\n    }\n  }\n);\n\nexport default instance;\n","export const actionTypes = {\n  STORY_UNDO_DELETE_REQUEST: \"STORY_UNDO_DELETE_REQUEST\",\n  STORY_UNDO_DELETE_SUCCESS: \"STORY_UNDO_DELETE_SUCCESS\",\n  STORY_UNDO_DELETE_FAIL: \"STORY_UNDO_DELETE_FAIL\",\n\n  STORY_LIST_REQUEST: \"STORY_LIST_REQUEST\",\n  STORY_LIST_SUCCESS: \"STORY_LIST_SUCCESS\",\n  STORY_LIST_FAIL: \"STORY_LIST_FAIL\",\n\n  STORY_PRIVATE_REQUEST: \"STORY_PRIVATE_REQUEST\",\n  STORY_PRIVATE_SUCCESS: \"STORY_PRIVATE_SUCCESS\",\n  STORY_PRIVATE_FAIL: \"STORY_PRIVATE_FAIL\",\n\n  STORY_DETAILS_REQUEST: \"STORY_DETAILS_REQUEST\",\n  STORY_DETAILS_SUCCESS: \"STORY_DETAILS_SUCCESS\",\n  STORY_DETAILS_FAIL: \"STORY_DETAILS_FAIL\",\n\n  STORY_COMMENT_REQUEST: \"STORY_COMMENT_REQUEST\",\n  STORY_COMMENT_SUCCESS: \"STORY_COMMENT_SUCCESS\",\n  STORY_COMMENT_FAIL: \"STORY_COMMENT_FAIL\",\n\n  STORY_LIKE_REQUEST: \"STORY_LIKE_REQUEST\",\n  STORY_LIKE_SUCCESS: \"STORY_LIKE_SUCCESS\",\n  STORY_LIKE_FAIL: \"STORY_LIKE_FAIL\",\n\n  STORY_UNLIKE_REQUEST: \"STORY_UNLIKE_REQUEST\",\n  STORY_UNLIKE_SUCCESS: \"STORY_UNLIKE_SUCCESS\",\n  STORY_UNLIKE_FAIL: \"STORY_UNLIKE_FAIL\",\n\n  STORY_ADD_REQUEST: \"STORY_ADD_REQUEST\",\n  STORY_ADD_SUCCESS: \"STORY_ADD_SUCCESS\",\n  STORY_ADD_FAIL: \"STORY_ADD_FAIL\",\n\n  STORY_UPDATE_REQUEST: \"STORY_UPDATE_REQUEST\",\n  STORY_UPDATE_SUCCESS: \"STORY_UPDATE_SUCCESS\",\n  STORY_UPDATE_FAIL: \"STORY_UPDATE_FAIL\",\n\n  STORY_DELETE_REQUEST: \"STORY_DELETE_REQUEST\",\n  STORY_DELETE_SUCCESS: \"STORY_DELETE_SUCCESS\",\n  STORY_DELETE_FAIL: \"STORY_DELETE_FAIL\",\n\n  USER_LOGIN_REQUEST: \"USER_LOGIN_REQUEST\",\n  USER_LOGIN_SUCCESS: \"USER_LOGIN_SUCCESS\",\n  USER_LOGIN_FAIL: \"USER_LOGIN_FAIL\",\n\n  USER_REGISTER_REQUEST: \"USER_REGISTER_REQUEST\",\n  USER_REGISTER_SUCCESS: \"USER_REGISTER_SUCCESS\",\n  USER_REGISTER_FAIL: \"USER_REGISTER_FAIL\",\n\n  USER_UPDATE_REQUEST: \"USER_UPDATE_REQUEST\",\n  USER_UPDATE_SUCCESS: \"USER_UPDATE_SUCCESS\",\n  USER_UPDATE_FAIL: \"USER_UPDATE_FAIL\",\n\n  USER_PROFILE_DELETE_REQUEST: \"USER_PROFILE_DELETE_REQUEST\",\n  USER_PROFILE_DELETE_SUCCESS: \"USER_PROFILE_DELETE_SUCCESS\",\n  USER_PROFILE_DELETE_FAIL: \"USER_PROFILE_DELETE_FAIL\",\n\n  USER_PROFILE_REQUEST: \"USER_PROFILE_REQUEST\",\n  USER_PROFILE_SUCCESS: \"USER_PROFILE_SUCCESS\",\n  USER_PROFILE_FAIL: \"USER_PROFILE_FAIL\",\n\n  USER_LOGOUT: \"USER_LOGOUT\",\n\n  USERS_LIST_REQUEST: \"USERS_LIST_REQUEST\",\n  USERS_LIST_SUCCESS: \"USERS_LIST_SUCCESS\",\n  USERS_LIST_FAIL: \"USERS_LIST_FAIL\",\n};\n","//import jwtDecode from \"jwt-decode\";\nimport Cookie from \"js-cookie\";\nimport { actionTypes } from \"./actionTypes\";\n\nexport const initialState = {\n  user: null,\n  token: null,\n  loading: false,\n  error: \"\",\n  users: [],\n  profile: {},\n  message: \"\",\n};\n\ninitialState.user = Cookie.getJSON(\"user\") || null;\n\n// const token = Cookie.getJSON(\"user\") || null;\n\n// if (token.exp * 1000 < Date.now()) {\n//   Cookie.remove(\"user\");\n// } else {\n//   initialState.user = token;\n\n// }\n\nexport const AuthReducer = (state, action) => {\n  console.log(state, action);\n  switch (action.type) {\n    case actionTypes.USER_LOGIN_REQUEST:\n      return { loading: true };\n    case actionTypes.USER_LOGIN_SUCCESS:\n      return {\n        user: action.payload,\n        token: action.payload.token,\n        loading: false,\n        message: action.payload.message,\n      };\n    case actionTypes.USER_LOGIN_FAIL:\n      return { loading: false, error: action.payload };\n    case actionTypes.USER_REGISTER_REQUEST:\n      return { loading: true };\n    case actionTypes.USER_REGISTER_SUCCESS:\n      //localStorage.removeItem(\"token\");\n      return {\n        loading: false,\n        message: action.payload.message,\n        //alert: action.payload.message,\n      };\n    case actionTypes.USER_REGISTER_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.USER_LOGOUT:\n      //localStorage.removeItem(\"token\");\n      return { ...state, isLoggedIn: false, user: null };\n\n    case actionTypes.USER_PROFILE_REQUEST:\n      return { loading: true };\n    case actionTypes.USER_PROFILE_SUCCESS:\n      return { loading: false, profile: action.payload };\n    case actionTypes.USER_PROFILE_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.USER_PROFILE_DELETE_REQUEST:\n      return { loading: true };\n    case actionTypes.USER_PROFILE_DELETE_SUCCESS:\n      return {\n        loading: false,\n        user: null,\n        message: action.payload,\n      };\n    case actionTypes.USER_PROFILE_DELETE_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.USERS_LIST_REQUEST:\n      return { loading: true };\n    case actionTypes.USERS_LIST_SUCCESS:\n      return { users: action.payload, loading: false };\n    case actionTypes.USERS_LIST_FAIL:\n      return { loading: false, error: action.payload };\n\n    default:\n      return state;\n  }\n};\n","import React, { useReducer, createContext } from \"react\";\nimport Cookie from \"js-cookie\";\nimport axios from \"../axios\";\nimport { actionTypes } from \"./actionTypes\";\nimport { AuthReducer, initialState } from \"./authReducer\";\n\nconst AuthContext = createContext(initialState);\n\nfunction AuthContextProvider(props) {\n  const [state, dispatch] = useReducer(AuthReducer, initialState);\n\n  // React.useEffect(() => {\n  //   getUsers();\n  // }, [isAuth]);\n\n  // login existing user\n  async function loginUser(loginDetails) {\n    dispatch({ type: actionTypes.USER_LOGIN_REQUEST, payload: loginDetails });\n    try {\n      const { data } = await axios.post(\"/api/user/login\", loginDetails);\n      dispatch({ type: actionTypes.USER_LOGIN_SUCCESS, payload: data });\n      Cookie.set(\"user\", JSON.stringify(data));\n    } catch (error) {\n      dispatch({\n        type: actionTypes.USER_LOGIN_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n\n  // register newUser\n  async function register(newUser) {\n    dispatch({ type: actionTypes.USER_REGISTER_REQUEST, payload: newUser });\n    try {\n      const { data } = await axios.post(\"/api/user/signup\", newUser);\n      dispatch({ type: actionTypes.USER_REGISTER_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.USER_REGISTER_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n\n  // get user\n  async function getUser(id) {\n    dispatch({ type: actionTypes.USER_PROFILE_REQUEST, payload: id });\n    try {\n      const { data } = await axios.get(\"/api/user/profile/\" + id);\n      dispatch({ type: actionTypes.USER_PROFILE_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.USER_PROFILE_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n\n  // remove user\n  async function deleteUser(id) {\n    dispatch({ type: actionTypes.USER_PROFILE_DELETE_REQUEST, payload: id });\n    try {\n      const { data } = axios.delete(\"/api/user/profile/\" + id);\n      dispatch({\n        type: actionTypes.USER_PROFILE_DELETE_SUCCESS,\n        payload: data,\n      });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.USER_PROFILE_DELETE_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n  // get users\n  async function getUsers() {\n    dispatch({ type: actionTypes.USER_LIST_REQUEST });\n    try {\n      const { data } = axios.get(\"/api/user/all\");\n      dispatch({ type: actionTypes.USER_LIST_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.USER_LIST_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n\n  // logout user\n  function logoutUser() {\n    Cookie.remove(\"user\");\n    dispatch({ type: actionTypes.USER_LOGOUT });\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        error: state.error,\n        msg: state.message,\n        loading: state.loading,\n        loginUser,\n        logoutUser,\n        register,\n        getUser,\n        deleteUser,\n      }}\n    >\n      {props.children}\n    </AuthContext.Provider>\n  );\n}\n\nconst AuthConsumer = AuthContext.Consumer;\n\nexport { AuthContextProvider, AuthConsumer, AuthContext };\n","import { actionTypes } from \"./actionTypes\";\nexport const initialState = {\n  stories: [],\n  error: \"\",\n  loading: false,\n  history: [],\n  story: {},\n  userStories: [],\n  message: \"\",\n};\n\nexport const storyReducer = (state, action) => {\n  console.log(action.payload);\n\n  switch (action.type) {\n    case actionTypes.STORY_LIST_REQUEST:\n      return { loading: true };\n    case actionTypes.STORY_LIST_SUCCESS:\n      return {\n        ...state,\n        stories: action.payload,\n        loading: false,\n      };\n    case actionTypes.STORY_LIST_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.STORY_PRIVATE_REQUEST:\n      return { loading: true };\n    case actionTypes.STORY_PRIVATE_SUCCESS:\n      return {\n        ...state,\n        userStories: action.payload,\n        loading: false,\n      };\n    case actionTypes.STORY_PRIVATE_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.STORY_DETAILS_REQUEST:\n      return { loading: true };\n    case actionTypes.STORY_DETAILS_SUCCESS:\n      return {\n        ...state,\n        story: action.payload,\n        loading: false,\n      };\n    case actionTypes.STORY_DETAILS_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.STORY_ADD_REQUEST:\n      return { loading: true };\n\n    case actionTypes.STORY_ADD_SUCCESS:\n      return {\n        ...state,\n        stories: [action.payload],\n        message: action.payload.message,\n        loading: false,\n      };\n\n    case actionTypes.STORY_ADD_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.STORY_UPDATE_REQUEST:\n      return { loading: true };\n\n    case actionTypes.STORY_UPDATE_SUCCESS:\n      return {\n        ...state,\n        stories: state.stories?.map((story) =>\n          story.id === action.payload.id ? action.payload : story\n        ),\n        message: action.payload.message,\n        loading: false,\n      };\n    case actionTypes.STORY_UPDATE_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.STORY_DELETE_REQUEST:\n      return { loading: true };\n\n    case actionTypes.STORY_DELETE_SUCCESS:\n      return {\n        ...state,\n        stories: state.stories?.filter(\n          (story) => story?._id !== action.payload\n        ),\n        message: action.payload,\n        loading: false,\n      };\n\n    case actionTypes.STORY_DELETE_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.STORY_LIKE_REQUEST:\n      return { loading: true };\n    case actionTypes.STORY_LIKE_SUCCESS:\n      return { story: action.payload, loading: false };\n    case actionTypes.STORY_LIKE_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.STORY_UNLIKE_REQUEST:\n      return { loading: true };\n    case actionTypes.STORY_UNLIKE_SUCCESS:\n      return { loading: false, story: action.payload };\n    case actionTypes.STORY_UNLIKE_FAIL:\n      return { loading: false, error: action.payload };\n\n    case actionTypes.STORY_COMMENT_REQUEST:\n      return { loading: true };\n    case actionTypes.STORY_COMMENT_SUCCESS:\n      return { loading: false, story: action.payload };\n    case actionTypes.STORY_COMMENT_FAIL:\n      return { loading: false, error: action.payload };\n\n    // case actionTypes.UNDO_DELETE:\n    //   const isEmpty = !state.history.length;\n    //   if (isEmpty) return state;\n    //   return { ...state.history[state.history.length - 1] };\n\n    default:\n      return state;\n  }\n};\n","import React, { createContext, useEffect, useReducer } from \"react\";\nimport axios from \"../axios\";\nimport { AuthContext } from \"./AuthContext\";\nimport { actionTypes } from \"./actionTypes\";\nimport { storyReducer, initialState } from \"./storyReducer\";\n\nconst StoryContext = createContext(initialState);\n\nconst StoryProvider = (props) => {\n  const [state, dispatch] = useReducer(storyReducer, initialState);\n  const { user } = React.useContext(AuthContext);\n\n  // load stories when component is mounted\n  useEffect(() => {\n    getPublicStories();\n  }, [user]);\n\n  // load stories function\n  async function getPublicStories() {\n    try {\n      dispatch({ type: actionTypes.STORY_LIST_REQUEST });\n      const { data } = await axios.get(\"/api/stories\");\n      dispatch({ type: actionTypes.STORY_LIST_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.STORY_LIST_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n  // load stories function\n  async function getPrivateStories(userId) {\n    try {\n      dispatch({ type: actionTypes.STORY_PRIVATE_REQUEST });\n      const { data } = await axios.get(\"/api/stories/user/\" + userId);\n      dispatch({ type: actionTypes.STORY_PRIVATE_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.STORY_PRIVATE_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n\n  // get a single story\n  async function getStory(id) {\n    try {\n      dispatch({ type: actionTypes.STORY_DETAILS_REQUEST, payload: id });\n      const { data } = await axios.get(\"/api/stories/\" + id);\n      dispatch({ type: actionTypes.STORY_DETAILS_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.STORY_DETAILS_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n\n  // remove a story\n  async function removeStory(id) {\n    dispatch({ type: actionTypes.STORY_DELETE_REQUEST, payload: id });\n    try {\n      const { data } = axios.delete(\"/api/stories/remove/\" + id);\n      dispatch({ type: actionTypes.STORY_DELETE_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.STORY_DELETE_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n\n  // create a newstory\n  async function createStory(story) {\n    dispatch({ type: actionTypes.STORY_ADD_REQUEST, payload: story });\n    try {\n      const { data } = await axios.post(\"/api/stories/new\", story);\n      dispatch({ type: actionTypes.STORY_ADD_SUCCESS, payload: data });\n    } catch (error) {\n      console.log(error);\n      dispatch({\n        type: actionTypes.STORY_ADD_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n  // update a story\n  async function updateStory(id, updstory) {\n    dispatch({ type: actionTypes.STORY_UPDATE_REQUEST, payload: id, updstory });\n    try {\n      const { data } = await axios.put(\"/api/stories/update/\" + id, updstory);\n      dispatch({ type: actionTypes.STORY_UPDATE_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.STORY_UPDATE_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n  // like a story\n  async function likeStory(storyId) {\n    dispatch({ type: actionTypes.STORY_LIKE_REQUEST, payload: storyId });\n    try {\n      const { data } = await axios.put(\"/api/stories/like/\" + storyId);\n      dispatch({ type: actionTypes.STORY_LIKE_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.STORY_LIKE_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n  // unlike a story\n  async function unlikeStory(storyId) {\n    dispatch({ type: actionTypes.STORY_LIKE_REQUEST, payload: storyId });\n    try {\n      const { data } = await axios.put(\"/api/stories/unlike/\" + storyId);\n      dispatch({ type: actionTypes.STORY_LIKE_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.STORY_LIKE_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n  //comment on a story\n  async function makeComment(storyId, text) {\n    dispatch({\n      type: actionTypes.STORY_COMMENT_REQUEST,\n      payload: storyId,\n      text,\n    });\n    try {\n      const { data } = await axios.put(\"/api/stories/comment/\" + storyId, text);\n      dispatch({ type: actionTypes.STORY_COMMENT_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.STORY_COMMENT_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  }\n\n  //filter stories\n  const [query, setQuery] = React.useState(\"\");\n  function onSearch({ currentTarget }) {\n    setQuery(currentTarget.value);\n  }\n\n  const newStories = query\n    ? state.stories?.filter((story) =>\n        story.title.toLowerCase().includes(query.toLowerCase())\n      )\n    : state.stories;\n\n  // handle mModal\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  return (\n    <StoryContext.Provider\n      value={{\n        stories: newStories,\n        myStories: state.userStories,\n        story: state.story,\n        loading: state.loading,\n        message: state.message,\n        error: state.error,\n        createStory,\n        removeStory,\n        updateStory,\n        getStory,\n        getPrivateStories,\n        likeStory,\n        unlikeStory,\n        makeComment,\n        searchStory: onSearch,\n        query: query,\n      }}\n    >\n      {props.children}\n    </StoryContext.Provider>\n  );\n};\nconst StoryConsumer = StoryContext.Consumer;\n\nexport { StoryContext, StoryProvider, StoryConsumer };\n","import React, { useContext, Fragment } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { Nav, Form, Button } from \"react-bootstrap\";\nimport { AuthContext } from \"../contexts/AuthContext\";\nimport { StoryContext } from \"../contexts/StoryContext\";\nimport logo from \"../logo.svg\";\n\nexport default function NavbarStories() {\n  const logoutBtn = document.getElementById(\"logout\");\n\n  const { logoutUser, user } = useContext(AuthContext);\n  const { searchStory, query } = useContext(StoryContext);\n\n  const guestLinks = (\n    <Fragment>\n      <Nav.Item>\n        <Nav.Link href=\"/signup\" className=\"text-white\">\n          Signup\n        </Nav.Link>\n      </Nav.Item>\n    </Fragment>\n  );\n  const authLinks = (\n    <Fragment>\n      <Nav.Item>\n        <Nav.Link href=\"/profile\" className=\"text-white\">\n          {user?.username}\n        </Nav.Link>\n      </Nav.Item>\n      <Nav.Item>\n        <Nav.Link href=\"/users\" className=\"text-white\"></Nav.Link>\n      </Nav.Item>\n      <Nav.Item>\n        <Nav.Link href={user ? \"/dashboard\" : \"/\"} className=\"text-white\">\n          Dashboard\n        </Nav.Link>\n      </Nav.Item>\n    </Fragment>\n  );\n\n  return (\n    <Navbar className=\"bg-dark\" expand=\"lg\">\n      <Navbar.Brand href={user ? \"/dashboard\" : \"/\"}>\n        <img src={logo} alt=\"logo\" />\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav \" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"ml-auto nav-text\">{user ? authLinks : guestLinks}</Nav>\n        <Form inline>\n          <Nav.Item>\n            <Nav.Link href=\"/\" className=\"mr-2\">\n              <Button\n                onClick={logoutUser}\n                variant=\"outline-warning\"\n                id=\"logout\"\n              >\n                {user ? \"Logout\" : \"You are logged out\"}\n              </Button>\n            </Nav.Link>\n          </Nav.Item>\n          <Form.Control\n            type=\"text\"\n            className=\"white-bg\"\n            value={query}\n            onChange={searchStory}\n            placeholder=\"Search for a story\"\n          />\n        </Form>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n","import React from \"react\";\nimport { Nav } from \"react-bootstrap\";\n\nexport default function Welcome() {\n  return (\n    <div className=\"welcome container\">\n      <div className=\"col-10 mx-auto text-title text-center\">\n        <div>\n          <h3 className=\"bold-text\">Welcome back to die Geschichten!</h3>\n          <div className=\"mt-2\">\n            <p>Please log in to share your stories!</p>\n            <p>& Enjoy your time on here</p>\n          </div>\n          <Nav.Link href=\"/login\" className=\"primary-btn mt-5\">\n            login\n          </Nav.Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Welcome from \"../components/Welcome\";\n\nexport default function Homepage() {\n  return (\n    <div>\n      <Welcome />\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function Title({ name, title }) {\n  return (\n    <div className=\"row\">\n      <div className=\"col-10 mx-auto my-2 text-center text-title\">\n        <h1 className=\"text-capitalize font-weight-bold yellow-text \">\n          {name} <strong className=\"blue-text\">{title}</strong>\n        </h1>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { Button, Form, Modal } from \"react-bootstrap\";\nimport { AuthContext } from \"../contexts/AuthContext\";\nimport { StoryContext } from \"../contexts/StoryContext\";\n\nexport default function CreateStory() {\n  let history = useHistory();\n  const { createStory, message, error, loading } = React.useContext(\n    StoryContext\n  );\n\n  const { user } = React.useContext(AuthContext);\n  const [er, setEr] = useState(\"\");\n  const [story, setStory] = React.useState({\n    id: \"\",\n    title: \"\",\n    content: \"\",\n    status: \"\",\n  });\n\n  //Model control\n  const [show, setShow] = React.useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  function validForm() {\n    const validcontent = story.content.length > 10;\n    const validtitle = story.title.length > 5;\n\n    return validcontent && validtitle;\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const newStory = {\n      user: user._id,\n      title: story.title,\n      content: story.content,\n      status: story.status,\n    };\n    console.log(story);\n\n    try {\n      if (!newStory) return;\n      createStory(newStory);\n      Swal.fire({\n        position: \"top-end\",\n        icon: \"success\",\n        title: message ? `${message}` : \"Story created!\",\n        showConfirmButton: false,\n        timer: 3000,\n      });\n      window.location.reload();\n    } catch (err) {\n      setEr(err);\n    }\n  }\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setStory({ ...story, [name]: value });\n  };\n  return (\n    <React.Fragment>\n      <span onClick={handleShow}>Create Story</span>\n      <Modal show={show} onHide={handleClose} animation={true}>\n        <Modal.Header closeButton>\n          <Modal.Title>Story</Modal.Title>\n          {loading && <div>Loading...</div>}\n          {error && <div className=\"yellow-text\">{error}</div>}\n        </Modal.Header>\n        <Modal.Body>\n          <Form className=\"container\">\n            <Form.Group controlId=\"exampleForm.ControlSelect1\">\n              <Form.Label>Status</Form.Label>\n              <Form.Control\n                as=\"select\"\n                autoFocus\n                type=\"text\"\n                name=\"status\"\n                value={story.status}\n                onChange={handleChange}\n              >\n                <option disabled hidden value=\"\"></option>\n                <option value=\"public\">public</option>\n                <option value=\"private\">private</option>\n              </Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId=\"email\" bssize=\"large\">\n              <Form.Label>Title</Form.Label>\n              <Form.Control\n                autoFocus\n                required\n                type=\"text\"\n                name=\"title\"\n                value={story.title}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            <Form.Group controlId=\"content\" bssize=\"large\">\n              <Form.Label>Content</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                value={story.content}\n                onChange={handleChange}\n                type=\"text\"\n                name=\"content\"\n                required\n                max=\"50\"\n              />\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button\n            variant=\"info\"\n            type=\"submit\"\n            disabled={!validForm()}\n            onClick={handleSubmit}\n            className=\"text-blue\"\n          >\n            {\"Create\"}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport Swal from \"sweetalert2\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../contexts/AuthContext\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport Title from \"../components/Title\";\nimport CreateStory from \"./CreateStory\";\nimport { StoryContext } from \"../contexts/StoryContext\";\nimport SearchBar from \"../components/SearchBar\";\nconst avatar = \"http://www.nretnil.com/avatar/LawrenceEzekielAmos.png\";\n\nexport default function Profile() {\n  const { user, deleteUser, logoutUser } = React.useContext(AuthContext);\n  const {\n    removeStory,\n    myStories,\n    query,\n    searchStory,\n    getPrivateStories,\n    handleClose,\n  } = React.useContext(StoryContext);\n\n  //console.log(myStories);\n  React.useEffect(() => {\n    getPrivateStories(user?._id);\n    return () => {};\n  }, [user?._id]);\n\n  return (\n    <Container className=\"mt-5\">\n      <Title name=\"Dashboard\" title={user?.username} />\n      <div className=\"mt-2 profile \">\n        <Row>\n          <Col>\n            <div className=\"shadow profile-left\">\n              <div className=\"login-details\">\n                <div>\n                  <img\n                    src={user?.image ? user?.image : avatar}\n                    alt=\"userImage\"\n                    className=\"profile-image\"\n                  />\n                </div>\n                <div className=\"user\">\n                  <p>Username: {user?.username}</p>\n                  <p>Email: {user?.email}</p>\n                  <p>Joined: {user?.date.substring(0, 10)}</p>\n                </div>\n              </div>\n\n              <button\n                className=\"btn btn-danger mt-5\"\n                onClick={() => {\n                  Swal.fire({\n                    title: \"Are you sure?\",\n                    text: \"You won't be able to revert this!\",\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#3085d6\",\n                    cancelButtonColor: \"#d33\",\n                    confirmButtonText: \"Yes, delete it!\",\n                  }).then((result) => {\n                    if (result.isConfirmed) {\n                      deleteUser(user._id);\n                      logoutUser();\n                      Swal.fire(\n                        \"Deleted!\",\n                        \"Your file has been deleted.\",\n                        \"success\"\n                      );\n                    }\n                  });\n                }}\n              >\n                delete account\n              </button>\n            </div>\n          </Col>\n          <Col>\n            <div className=\" profile-right shadow\">\n              <div className=\"profile-create\">\n                <button className=\" btn btn-warning h-25 mt-1  \">\n                  <CreateStory className=\"modal\" />\n                </button>\n\n                <span className=\"profile-search\">\n                  <div className=\"btn btn-outline-warning\">\n                    Search here..soon\n                  </div>\n                </span>\n              </div>\n              {myStories?.length === 0 ? (\n                <p>You have no stories!</p>\n              ) : (\n                <table className=\"table \">\n                  <thead>\n                    <tr>\n                      <th>Title</th>\n                      <th>Status</th>\n                      <th>CreatedAt</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {myStories?.map((story) => (\n                      <tr key={story._id}>\n                        <td>\n                          <Link\n                            to={\"/stories/\" + story._id}\n                            className=\"blue-text\"\n                          >\n                            {story.title}\n                          </Link>\n                        </td>\n                        <td>{story.status}</td>\n                        <td>{story.createdAt.substring(0, 10)}</td>\n                        <td>\n                          <Link to={`/story/edit/${story._id}`}>\n                            <i className=\"fas fa-pen mr-3\"></i>\n                          </Link>\n\n                          <i\n                            className=\"fas fa-trash-alt\"\n                            onClick={() => {\n                              Swal.fire({\n                                height: 100,\n                                title: \"Are you sure?\",\n                                text: \"You won't be able to revert this!\",\n                                icon: \"warning\",\n                                showCancelButton: true,\n                                confirmButtonColor: \"#3085d6\",\n                                cancelButtonColor: \"#d33\",\n                                confirmButtonText: \"Yes, delete it!\",\n                              }).then((result) => {\n                                if (result.isConfirmed) {\n                                  removeStory(story._id);\n                                  Swal.fire(\n                                    \"Deleted!\",\n                                    \"The story has been deleted.\",\n                                    \"success\"\n                                  );\n                                }\n                                window.location.reload(false);\n                              });\n                            }}\n                          ></i>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    </Container>\n  );\n}\n","import React, { useState } from \"react\";\nimport Swal from \"sweetalert2\";\nimport axios from \"../axios\";\nimport styled from \"styled-components/macro\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { StoryContext } from \"../contexts/StoryContext\";\n\nexport default function EditStory(props) {\n  const { updateStory, message } = React.useContext(StoryContext);\n  console.log(message);\n  let params = useParams();\n  let history = useHistory();\n\n  const [error, setError] = useState(\"\");\n  const [currentStory, setCurrentStory] = React.useState({\n    _id: \"\",\n    title: \"\",\n    content: \"\",\n    status: \"\",\n  });\n\n  // get current story id\n  const currentId = params.id;\n\n  // // get story from state\n  // React.useEffect(() => {\n  //   const getItem = async (currentId) => {\n  //     const story = await stories.find((story) => story._id === currentId);\n  //     setCurrentStory({\n  //       title: story.title,\n  //       content: story.content,\n  //       status: story.status,\n  //     });\n  //   };\n  //   getItem(currentId);\n  // }, [currentId]);\n\n  // fetch current story\n  React.useEffect(() => {\n    async function getStory() {\n      const { data } = await axios(\"/api/stories/edit/\" + currentId);\n      //console.log(data);\n      setCurrentStory({\n        title: data.title,\n        content: data.content,\n        status: data.status,\n      });\n      //console.log(currentStory);\n    }\n    getStory();\n  }, [currentId]);\n\n  const handleChange = (e) => {\n    setCurrentStory({\n      ...currentStory,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const updatedStory = {\n      _id: currentId,\n      title: currentStory.title,\n      content: currentStory.content,\n      status: currentStory.status,\n    };\n    //console.log(updatedStory);\n    try {\n      if (!updatedStory) return;\n      updateStory(currentId, updatedStory);\n      Swal.fire({\n        position: \"top-end\",\n        icon: \"success\",\n        title: message ? `${message}` : \"Story updated!\",\n        showConfirmButton: false,\n        timer: 3000,\n      });\n      history.push(\"/profile\");\n    } catch (err) {\n      setError(err.msg);\n    }\n  }\n\n  return (\n    <EditContainer>\n      <Form className=\"container\">\n        <span className=\"text-danger\">{error}</span>\n        <Form.Group controlId=\"exampleForm.ControlSelect1\">\n          <Form.Label>Status</Form.Label>\n          <Form.Control\n            as=\"select\"\n            autoFocus\n            type=\"text\"\n            name=\"status\"\n            value={currentStory.status}\n            onChange={handleChange}\n          >\n            <option disabled hidden value=\"\"></option>\n            <option value=\"public\">public</option>\n            <option value=\"private\">private</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Form.Group controlId=\"title\" bssize=\"large\">\n          <Form.Label>Title</Form.Label>\n          <Form.Control\n            autoFocus\n            required\n            type=\"text\"\n            name=\"title\"\n            value={currentStory.title}\n            onChange={handleChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"content\" bssize=\"large\">\n          <Form.Label>Content</Form.Label>\n          <Form.Control\n            as=\"textarea\"\n            value={currentStory.content}\n            onChange={handleChange}\n            type=\"text\"\n            name=\"content\"\n            required\n          />\n        </Form.Group>\n        <p className=\"float-right mt-2\">\n          <Button\n            variant=\"secondary\"\n            type=\"button\"\n            className=\"mr-3\"\n            onClick={() => history.push(\"/profile\")}\n          >\n            Close\n          </Button>\n          <Button variant=\"info\" type=\"submit\" onClick={handleSubmit}>\n            Update\n          </Button>\n        </p>\n      </Form>\n    </EditContainer>\n  );\n}\nconst EditContainer = styled.div`\n  form {\n    width: 400px;\n    min-height: 50vh;\n    margin: 4rem auto;\n    padding: 30px;\n    box-shadow: 1px 2px 3px rgba(0, 0, 0, 0.1);\n    border-radius: 10px;\n    background: white;\n  }\n`;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Form } from \"react-bootstrap\";\nimport styled from \"styled-components/macro\";\nimport { AuthContext } from \"../contexts/AuthContext\";\n\nexport default function Login() {\n  let history = useHistory();\n  const { loginUser, error, loading, user } = React.useContext(AuthContext);\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  React.useEffect(() => {\n    if (user) {\n      history.push(\"/dashboard\");\n    }\n    return () => {\n      //cleanup\n    };\n  }, [user, history]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const loginDetails = { email, password };\n    loginUser(loginDetails);\n  };\n\n  return (\n    <LoginContainer>\n      <div className=\"form mt-3 container\">\n        <form onSubmit={handleSubmit}>\n          <h4 className=\"text-center\">Login</h4>\n          {loading && <div>Loading...</div>}\n          {error && <div className=\"yellow-text\">{error}</div>}\n          <Form.Group controlId=\"email\" bssize=\"large\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control\n              autoFocus\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\" bssize=\"large\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              type=\"password\"\n            />\n          </Form.Group>\n          <button type=\"submit\" className=\"secondary-btn\">\n            Login\n          </button>\n        </form>\n      </div>\n    </LoginContainer>\n  );\n}\n\nconst LoginContainer = styled.div`\n  form {\n    width: 360px;\n    margin: 4rem auto;\n    padding: 30px;\n    box-shadow: 1px 2px 3px rgba(0, 0, 0, 0.1);\n    background: var(--Blue);\n    color: white;\n  }\n`;\n","import React, { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport styled from \"styled-components/macro\";\nimport { AuthContext } from \"../contexts/AuthContext\";\n\nexport default function Login(props) {\n  const { register, loading, error, user, msg } = React.useContext(AuthContext);\n  const [err, setErr] = useState();\n  const [newUser, setNewUser] = React.useState({\n    email: \"\",\n    username: \"\",\n    password: \"\",\n  });\n  const [image, setImage] = React.useState(\"\");\n  const [url, setUrl] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (url) {\n      collectFields();\n    }\n  }, [url]);\n\n  React.useEffect(() => {\n    if (user || msg) {\n      props.history.push(\"/dashboard\");\n      //return <Redirect to=\"/dashboard\" />;\n    }\n    return () => {\n      //cleanup\n    };\n  }, [user, msg, props.history]);\n\n  const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n\n  // upload image and retrieve url from cloud\n  const imageUpload = (event) => {\n    const data = new FormData();\n    let seletected = image;\n    if (seletected && types.includes(seletected.type)) {\n      data.append(\"file\", image);\n      data.append(\"upload_preset\", \"geschichten\");\n      data.append(\"cloud_name\", \"imagecoding\");\n      fetch(\"https://api.cloudinary.com/v1_1/imagecoding/image/upload\", {\n        method: \"post\",\n        body: data,\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data);\n          setUrl(data.url);\n          setErr(\"\");\n        })\n        .catch((err) => {\n          setErr(err);\n        });\n    } else {\n      return setErr(\"invalid image type\");\n    }\n  };\n\n  // trigger imageUpload // collectFields\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (image) {\n      imageUpload();\n    } else {\n      collectFields();\n    }\n  }\n\n  // collects all fielsd, after url is available\n  const collectFields = () => {\n    const newUserData = {\n      username: newUser.username,\n      email: newUser.email,\n      password: newUser.password,\n      image: url,\n    };\n    //console.log(newUserData, \"hi\");\n    try {\n      // send data to server\n      register(newUserData);\n      // Swall mesage\n    } catch (err) {\n      setErr(err);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setNewUser({ ...newUser, [name]: value });\n  };\n\n  return (\n    <SignupContainer>\n      <div className=\"form-container\">\n        <Form onSubmit={handleSubmit}>\n          {err && <span className=\"text-danger\">{err}</span>}\n          <h4 className=\"text-center\">Register</h4>\n          {loading && <div>Loading...</div>}\n          {error && <div className=\"yellow-text\">{error}</div>}\n          <Form.Group controlId=\"email\" bssize=\"large\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control\n              autoFocus\n              type=\"email\"\n              name=\"email\"\n              value={newUser.email}\n              onChange={handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"email\" bssize=\"large\">\n            <Form.Label>Username</Form.Label>\n            <Form.Control\n              autoFocus\n              type=\"text\"\n              name=\"username\"\n              value={newUser.username}\n              onChange={handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\" bssize=\"large\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              value={newUser.password}\n              onChange={handleChange}\n              type=\"password\"\n              name=\"password\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"email\" bssize=\"large\">\n            <Form.Label>Photo</Form.Label>\n            <Form.Control\n              autoFocus\n              type=\"file\"\n              onChange={(e) => setImage(e.target.files[0])}\n            />\n          </Form.Group>\n\n          <button type=\"submit\" className=\"secondary-btn\">\n            {loading ? \"Registering...\" : \"Register\"}\n          </button>\n        </Form>\n      </div>\n    </SignupContainer>\n  );\n}\n\nconst SignupContainer = styled.div`\n  form {\n    width: 360px;\n    margin: 2rem auto;\n    padding: 30px;\n    box-shadow: 1px 2px 3px rgba(0, 0, 0, 0.1);\n    background: var(--Blue);\n    color: white;\n  }\n    \n  }\n`;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { StoryContext } from \"../contexts/StoryContext\";\nimport { AuthContext } from \"../contexts/AuthContext\";\n\nexport default function Story(props) {\n  let history = useHistory();\n  const {\n    likeStory,\n    getStory,\n    story,\n    unlikeStory,\n    makeComment,\n  } = React.useContext(StoryContext);\n  const { user } = React.useContext(AuthContext);\n  const [value, setValue] = React.useState({ text: \"\" });\n\n  //console.log(user._id, storyId);\n  //const [story, setStory] = React.useState({});\n\n  React.useEffect(() => {\n    getStory(props.match.params.id);\n    return () => {};\n  }, [props.match.params.id]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    makeComment(story._id, { text: value });\n    window.location.reload(false);\n    setValue({ text: \"\" });\n  };\n  return (\n    <div className=\"container mt-5 content-page\">\n      <button\n        onClick={() => {\n          history.push(\"/dashboard\");\n          window.location.reload(false);\n        }}\n        className=\"btn back btn-outline-dark\"\n      >\n        Back\n      </button>\n      <div className=\"story-details\">\n        <div className=\"details-left\">\n          <div className=\" story shadow  py-5 px-5\">\n            <p className=\"title\">\n              <strong>Title: </strong>\n              {story?.title}\n            </p>\n            <p className=\"justify-body\">\n              <strong>Content: </strong> {story?.content}\n            </p>\n\n            <p className=\"date\">\n              <strong>Date: </strong>\n              {story?.createdAt}\n            </p>\n            <p className=\"date\">\n              <strong>Story from: </strong>\n              {story?.user?.username}\n            </p>\n            <div className=\"likes\">\n              {story?.likes?.includes(user?._id) ? (\n                <i\n                  className=\"fas fa-thumbs-down mr-3\"\n                  onClick={() => {\n                    unlikeStory(story?._id);\n                    window.location.reload(false);\n                  }}\n                ></i>\n              ) : (\n                <i\n                  className=\"fas fa-thumbs-up\"\n                  onClick={() => {\n                    likeStory(story?._id);\n                    window.location.reload(false);\n                  }}\n                ></i>\n              )}\n              <h4 className=\"red-text\">{story?.likes?.length} likes</h4>\n            </div>\n          </div>\n          <div className=\"comments mt-4\">\n            <h4>Comments</h4>\n            {story?.comments?.map((comment) => {\n              return (\n                <>\n                  <h6 key={comment._id}>\n                    <span style={{ fontWeight: \"500\" }}>\n                      {comment?.username} <br />\n                    </span>\n                    {comment?.text}\n                    <i className=\"fas fa-thrash-alt\"></i>\n                  </h6>\n                </>\n              );\n            })}\n          </div>\n        </div>\n        <div className=\"comment-form\">\n          <form onSubmit={handleSubmit}>\n            <textarea\n              type=\"text\"\n              placeholder=\"Add a comment\"\n              onChange={(e) => setValue(e.target?.value)}\n              required\n            ></textarea>\n            <br />\n            <input type=\"submit\" />\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card } from \"react-bootstrap\";\nimport { StoryContext } from \"../contexts/StoryContext\";\nimport { AuthContext } from \"../contexts/AuthContext\";\n\nexport default function Story({ story }) {\n  const { user } = React.useContext(AuthContext);\n  const { likeStory, unlikeStory } = React.useContext(StoryContext);\n  return (\n    <Card style={{ width: \"20rem\" }} key={story._id}>\n      <Card.Body>\n        <Card.Title>{story.title}</Card.Title>\n        <Card.Subtitle className=\"mb-2 text-muted\">\n          PostedBy: {story.user?.username}\n        </Card.Subtitle>\n        <Card.Text> Date: {story.createdAt.substring(0, 10)}</Card.Text>\n        <hr />\n        <Card.Link href={`/stories/${story._id}`}>Read</Card.Link>\n        <Card.Link>\n          {story?.likes?.includes(user?._id) ? (\n            <i\n              className=\"fas fa-heart text-danger mr-2\"\n              onClick={() => {\n                unlikeStory(story?._id);\n                window.location.reload(false);\n              }}\n            ></i>\n          ) : (\n            <i\n              className=\"fas fa-heart\"\n              onClick={() => {\n                likeStory(story?._id);\n                window.location.reload(false);\n              }}\n            ></i>\n          )}\n          <span> {story?.likes?.length} likes</span>\n          <span> {story?.comments?.length} comments</span>\n        </Card.Link>\n      </Card.Body>\n    </Card>\n  );\n}\n","import React from \"react\";\n\nexport default function Spinner() {\n  return (\n    <div className=\"container\">\n      <h2>Stories loading</h2>\n      <div />\n      <div className=\"spinner-border m-5\" role=\"status\">\n        <span className=\"sr-only\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { StoryContext } from \"../contexts/StoryContext\";\nimport Story from \"./Story\";\nimport Spinner from \"./Spinner\";\n\nexport default function Stories() {\n  const { stories, loading } = React.useContext(StoryContext);\n\n  return (\n    <div className=\"container\">\n      {loading ? (\n        <Spinner />\n      ) : (\n        <div className=\"stories\">\n          {stories?.map((story) => (\n            <Story story={story} key={story._id} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { AuthContext } from \"../contexts/AuthContext\";\n\nexport default function UsersList() {\n  const { users } = React.useContext(AuthContext);\n  return (\n    <div>\n      <ul>\n        {users?.map((user) => (\n          <li key={user.id}>{user.username}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Stories from \"./Stories\";\nimport UsersList from \"./UsersList\";\n\nexport default function Dashboard() {\n  return (\n    <div className=\"\">\n      <Stories />\n      <UsersList />\n    </div>\n  );\n}\n","import React from \"react\";\n\nfunction NotFound(props) {\n  console.log(props, \"from notfound\");\n  return (\n    <div className=\"h-100 bg-light container\">\n      <div className=\"container mt-5 py-5 \">\n        <div className=\"row\">\n          <div className=\" col-10 mx-auto text-title text-center\">\n            <h2>404 error</h2>\n            <h2>Page not found!</h2>\n            <h3>\n              the requested URL{\" \"}\n              <span className=\"text-danger\">{props.location.pathname} </span>\n              was not found\n            </h3>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default NotFound;\n","// redirect to current page if logged in\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport Cookie from \"js-cookie\";\n\nfunction AuthRoute(props) {\n  const isAuth = !!Cookie.getJSON(\"user\");\n  //console.log(isAuth);\n\n  if (isAuth) {\n    return <Route {...props} />;\n  } else {\n    return <Redirect to=\"/\" />;\n  }\n}\n\nexport default AuthRoute;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Homepage from \"./pages/Homepage\";\nimport Profile from \"./pages/Profile\";\nimport Editing from \"./pages/EditStory\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport StoryContent from \"./pages/Details\";\nimport Dashboard from \"./components/Dashboard\";\nimport Notfound from \"./pages/Notfound\";\nimport AuthRoute from \"./helpers/AuthRoute\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Homepage} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <AuthRoute exact path=\"/dashboard\" component={Dashboard} />\n          <AuthRoute exact path=\"/stories/:id\" component={StoryContent} />\n          <AuthRoute exact path=\"/story/edit/:id\" component={Editing} />\n          <AuthRoute exact path=\"/profile\" component={Profile} />\n          <Route component={Notfound} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { AuthContextProvider } from \"./contexts/AuthContext\";\nimport { StoryProvider } from \"./contexts/StoryContext\";\n\nReactDOM.render(\n  <AuthContextProvider>\n    <StoryProvider>\n      <App />\n    </StoryProvider>\n  </AuthContextProvider>,\n\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.4b6e79ce.svg\";"],"sourceRoot":""}